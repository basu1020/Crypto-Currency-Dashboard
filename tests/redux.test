import { createSlice } from "@reduxjs/toolkit";
import {BaseCurrencyinitialState, baseCurrencyChanged} from "./baseCurrencySlice";
import configureMockStore from "redux-mock-store"

describe('baseCurrencySlice', () => { 
    let store;
    let actions;
    
    beforeEach(() => {
        const mockStore = configureMockStore()
        store = mockStore(BaseCurrencyinitialState)
        actions = store.getActions()
    })

    it("should change the currency", () => {

        // Dispatch the action
        store.dispatch(baseCurrencyChanged("EUR"));

        // Check that the correct action was dispatched
        expect(actions).toEqual([{ type: "baseCurrency/baseCurrencyChanged", payload: "EUR" }]);
        
        // Check that the state was updated correctly
        expect(store.getState()).toEqual({ currency: "EUR" });
    });
})

